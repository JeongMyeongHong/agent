# λ°°ν¬ κ°„λ‹¨ κ°€μ΄λ“

## π€ κ°€μ¥ λΉ λ¥Έ λ°©λ²•

### μ„λ²„μ—μ„ μ§μ ‘ μ‹¤ν–‰

```bash
curl -sSL https://raw.githubusercontent.com/JeongMyeongHong/agent/main/deploy.sh | bash
```

**λ!** π‰

---

## π“‹ λ‹¨κ³„λ³„ μ„¤λ…

### 1. μ„λ²„ μ ‘μ†
```bash
ssh user@your-server-ip
```

### 2. λ°°ν¬ μ¤ν¬λ¦½νΈ μ‹¤ν–‰
```bash
curl -sSL https://raw.githubusercontent.com/JeongMyeongHong/agent/main/deploy.sh | bash
```

### 3. API ν‚¤ μ„¤μ •
```bash
cd /root/stock-invest
nano .env.prod
```

λ‹¤μ ν•­λ© μμ •:
```env
OPENAI_API_KEY=sk-proj-μ‹¤μ ν‚¤μ…λ ¥
BRAVE_API_KEY=μ‹¤μ ν‚¤μ…λ ¥
DB_PASSWORD=μ•μ „ν•λΉ„λ°€λ²νΈ
```

### 4. μ¬μ‹μ‘
```bash
docker-compose restart
```

### 5. ν™•μΈ
```bash
curl http://localhost:38000/
```

---

## π”„ μ—…λ°μ΄νΈ

μµμ‹  μ½”λ“λ΅ μ—…λ°μ΄νΈ:

```bash
cd /root/stock-invest
./update.sh
```

λλ”:

```bash
cd /root/stock-invest
git pull origin main
docker-compose down
docker-compose up -d --build
```

---

## π“ μ£Όμ” κ²½λ΅

- **λ°°ν¬ λ””λ ‰ν† λ¦¬**: `/root/stock-invest`
- **ν™κ²½ λ³€μ**: `/root/stock-invest/.env.prod`
- **λ΅κ·Έ**: `docker-compose logs -f`

---

## π― μ£Όμ” λ…λ Ήμ–΄

```bash
# μƒνƒ ν™•μΈ
docker-compose ps

# λ΅κ·Έ ν™•μΈ
docker-compose logs -f

# μ¬μ‹μ‘
docker-compose restart

# μ¤‘μ§€
docker-compose down

# μ‹μ‘
docker-compose up -d
```

---

## π μ ‘μ† μ •λ³΄

- **API**: http://your-server:38000
- **Docs**: http://your-server:38000/docs
- **DB**: localhost:35432 (μ„λ²„ λ‚΄λ¶€μ—μ„λ§)

---

## π’΅ ν

### μλ™ μ—…λ°μ΄νΈ μ„¤μ •

λ§¤μΌ μƒλ²½ 3μ‹ μλ™ μ—…λ°μ΄νΈ:

```bash
crontab -e

# μ¶”κ°€
0 3 * * * cd /root/stock-invest && ./update.sh >> /var/log/update.log 2>&1
```

### λ°±μ—… μ„¤μ •

λ§¤μΌ μƒλ²½ 2μ‹ μλ™ λ°±μ—…:

```bash
crontab -e

# μ¶”κ°€
0 2 * * * docker exec stock-invest-db pg_dump -U postgres stock_analysis > /backups/stock-$(date +\%Y\%m\%d).sql
```

---

## π¨ λ¬Έμ  ν•΄κ²°

### ν¬νΈκ°€ μ΄λ―Έ μ‚¬μ© μ¤‘

```bash
sudo lsof -i :38000
sudo kill -9 <PID>
```

### μ»¨ν…μ΄λ„κ°€ μ• μ¬λΌμ΄

```bash
docker-compose logs stock-invest-api
docker-compose down
docker-compose up -d --build
```

### APIκ°€ μ‘λ‹µ μ•ν•¨

```bash
# λ΅κ·Έ ν™•μΈ
docker-compose logs -f stock-invest-api

# μ¬μ‹μ‘
docker-compose restart stock-invest-api
```

---

## π“ λ„μ›€λ§

μμ„Έν• λ‚΄μ©μ€ [DEPLOYMENT.md](DEPLOYMENT.md) μ°Έκ³ 

---

## β… μ²΄ν¬λ¦¬μ¤νΈ

λ°°ν¬ μ „:
- [ ] Docker μ„¤μΉλ¨
- [ ] Git μ„¤μΉλ¨
- [ ] ν¬νΈ 38000, 35432 μ—΄λ¦Ό

λ°°ν¬ ν›„:
- [ ] API ν‚¤ μ„¤μ •ν•¨
- [ ] DB λΉ„λ°€λ²νΈ λ³€κ²½ν•¨
- [ ] API λ™μ‘ ν™•μΈν•¨
- [ ] λ°±μ—… μ„¤μ •ν•¨

---

## π‰ μ™„λ£!

μ΄μ  μ£Όμ‹ λ¶„μ„ APIκ°€ κ°€λ™ μ¤‘μ…λ‹λ‹¤!

http://your-server:38000/docs μ—μ„ ν…μ¤νΈν•μ„Έμ”.
